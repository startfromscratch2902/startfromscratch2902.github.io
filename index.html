<!doctype html>
<html lang="en">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<title>App Downloader</title>
</head>
<body>
<div class="d-flex justify-content-center" align-items='center'>
<button type="button" class="btn btn-success" onclick="javascript:openDeepLink()">Open/Download App</button>  
</div>

<script>
function openScheme(url,fallback) {
window.location.replace(url); setTimeout(function () {
window.location.replace(fallback); }, 3000);
}

function openDeepLink() {
  var ua = navigator.userAgent.toLowerCase();
  var isAndroid = ua.indexOf("android") > -1; //&& ua.indexOf("mobile");
  if(isAndroid) {
    openSchemeTest('intent://#Intent;scheme=matthew;package=com.matthew.rewards;end','https://play.google.com/store/apps/details?id=com.matthew.rewards&hl=en_IN&gl=US') 
  } else {
    openScheme('matthews://','https://apps.apple.com/ph/app/matthews/id1501672218')
  }
}

function openSchemeTest(url,fallback) {
    // body...
      var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      alert("state" + this.readyState + " status" + + this.status);
      if (this.status == 200) {
        window.location.replace(url);
      } else {
        window.location.replace(fallback);
      }
    };
    xhttp.open("GET", url, true);
    xhttp.send();
  }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
</script>

</body>
</html>